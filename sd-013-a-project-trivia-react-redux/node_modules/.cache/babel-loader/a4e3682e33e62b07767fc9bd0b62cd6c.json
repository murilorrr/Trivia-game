{"ast":null,"code":"var _jsxFileName = \"/home/murilorsv21/Projects/sd-013-a-project-trivia-react-redux/src/components/GameTimer.jsx\";\n// React\nimport React, { Component } from 'react'; // PropTypes\n\nimport PropTypes from 'prop-types'; // Redux\n\nimport { connect } from 'react-redux';\nimport { toggleTimer } from '../redux/actions/game';\n\nclass GameTimer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      timeLeft: 30 // segundos\n\n    };\n  }\n  /* As funções a seguir estão relacionadas com os eventos do timer */\n\n\n  componentDidMount() {\n    const interval = 1000;\n    window.setInterval(() => this.checkTimerStatus(), interval);\n  }\n\n  checkTimerStatus() {\n    const timerOn = this.props.timerOn;\n    if (timerOn) this.tick();else this.reset();\n  }\n\n  tick() {\n    const timeLeft = this.state.timeLeft;\n\n    if (timeLeft > 0) {\n      this.setState(prev => ({\n        timeLeft: prev.timeLeft - 1\n      }), () => time(timeLeft));\n    } else {\n      this.timesUp();\n    }\n  }\n\n  reset() {\n    this.setState({\n      timeLeft: 30\n    });\n  }\n\n  timesUp() {\n    const _this$props = this.props,\n          addStyles = _this$props.addStyles,\n          enableNextBtn = _this$props.enableNextBtn,\n          toggleTimerDispatch = _this$props.toggleTimerDispatch; // Desligar timer\n\n    toggleTimerDispatch(); // Disabilitar os botões de resposta\n\n    addStyles(); // Habilitar nova pergunta\n\n    enableNextBtn();\n  }\n\n  render() {\n    const timeLeft = this.state.timeLeft;\n    return React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, timeLeft);\n  }\n\n}\n\nGameTimer.propTypes = {\n  timerOn: PropTypes.bool.isRequired,\n  addStyles: PropTypes.func.isRequired,\n  enableNextBtn: PropTypes.func.isRequired,\n  toggleTimerDispatch: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = store => ({\n  timerOn: store.game.timerOn\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleTimerDispatch: () => dispatch(toggleTimer()),\n  timerDispatch: payload => dispatch(setTimerGlobal(payload))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GameTimer);","map":{"version":3,"sources":["/home/murilorsv21/Projects/sd-013-a-project-trivia-react-redux/src/components/GameTimer.jsx"],"names":["React","Component","PropTypes","connect","toggleTimer","GameTimer","constructor","props","state","timeLeft","componentDidMount","interval","window","setInterval","checkTimerStatus","timerOn","tick","reset","setState","prev","time","timesUp","addStyles","enableNextBtn","toggleTimerDispatch","render","propTypes","bool","isRequired","func","mapStateToProps","store","game","mapDispatchToProps","dispatch","timerDispatch","payload","setTimerGlobal"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,uBAA5B;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAChCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC,CACG;;AADH,KAAb;AAGD;AAED;;;AACAC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,QAAQ,GAAG,IAAjB;AACAC,IAAAA,MAAM,CAACC,WAAP,CACE,MAAM,KAAKC,gBAAL,EADR,EAEEH,QAFF;AAID;;AAEDG,EAAAA,gBAAgB,GAAG;AAAA,UACTC,OADS,GACG,KAAKR,KADR,CACTQ,OADS;AAGjB,QAAIA,OAAJ,EAAa,KAAKC,IAAL,GAAb,KACK,KAAKC,KAAL;AACN;;AAEDD,EAAAA,IAAI,GAAG;AAAA,UACGP,QADH,GACgB,KAAKD,KADrB,CACGC,QADH;;AAGL,QAAIA,QAAQ,GAAG,CAAf,EAAkB;AAChB,WAAKS,QAAL,CAAeC,IAAD,KAAW;AACvBV,QAAAA,QAAQ,EAAEU,IAAI,CAACV,QAAL,GAAgB;AADH,OAAX,CAAd,EAEI,MAAMW,IAAI,CAACX,QAAD,CAFd;AAID,KALD,MAKO;AACL,WAAKY,OAAL;AACD;AACF;;AAEDJ,EAAAA,KAAK,GAAG;AACN,SAAKC,QAAL,CAAc;AAAET,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACD;;AAEDY,EAAAA,OAAO,GAAG;AAAA,wBAKJ,KAAKd,KALD;AAAA,UAENe,SAFM,eAENA,SAFM;AAAA,UAGNC,aAHM,eAGNA,aAHM;AAAA,UAINC,mBAJM,eAINA,mBAJM,EAMR;;AACAA,IAAAA,mBAAmB,GAPX,CASR;;AACAF,IAAAA,SAAS,GAVD,CAYR;;AACAC,IAAAA,aAAa;AACd;;AAEDE,EAAAA,MAAM,GAAG;AAAA,UACChB,QADD,GACc,KAAKD,KADnB,CACCC,QADD;AAEP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQA,QAAR,CADF;AAGD;;AA/D+B;;AAkElCJ,SAAS,CAACqB,SAAV,GAAsB;AACpBX,EAAAA,OAAO,EAAEb,SAAS,CAACyB,IAAV,CAAeC,UADJ;AAEpBN,EAAAA,SAAS,EAAEpB,SAAS,CAAC2B,IAAV,CAAeD,UAFN;AAGpBL,EAAAA,aAAa,EAAErB,SAAS,CAAC2B,IAAV,CAAeD,UAHV;AAIpBJ,EAAAA,mBAAmB,EAAEtB,SAAS,CAAC2B,IAAV,CAAeD;AAJhB,CAAtB;;AAOA,MAAME,eAAe,GAAIC,KAAD,KAAY;AAClChB,EAAAA,OAAO,EAAEgB,KAAK,CAACC,IAAN,CAAWjB;AADc,CAAZ,CAAxB;;AAIA,MAAMkB,kBAAkB,GAAIC,QAAD,KAAe;AACxCV,EAAAA,mBAAmB,EAAE,MAAMU,QAAQ,CAAC9B,WAAW,EAAZ,CADK;AAExC+B,EAAAA,aAAa,EAAGC,OAAD,IAAaF,QAAQ,CAACG,cAAc,CAACD,OAAD,CAAf;AAFI,CAAf,CAA3B;;AAKA,eAAejC,OAAO,CAAC2B,eAAD,EAAkBG,kBAAlB,CAAP,CAA6C5B,SAA7C,CAAf","sourcesContent":["// React\nimport React, { Component } from 'react';\n\n// PropTypes\nimport PropTypes from 'prop-types';\n\n// Redux\nimport { connect } from 'react-redux';\nimport { toggleTimer } from '../redux/actions/game';\n\nclass GameTimer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      timeLeft: 30, // segundos\n    };\n  }\n\n  /* As funções a seguir estão relacionadas com os eventos do timer */\n  componentDidMount() {\n    const interval = 1000;\n    window.setInterval(\n      () => this.checkTimerStatus(),\n      interval,\n    );\n  }\n\n  checkTimerStatus() {\n    const { timerOn } = this.props;\n\n    if (timerOn) this.tick();\n    else this.reset();\n  }\n\n  tick() {\n    const { timeLeft } = this.state;\n\n    if (timeLeft > 0) {\n      this.setState((prev) => ({\n        timeLeft: prev.timeLeft - 1,\n      }), () => time(timeLeft));\n\n    } else {\n      this.timesUp();\n    }\n  }\n\n  reset() {\n    this.setState({ timeLeft: 30 });\n  }\n\n  timesUp() {\n    const {\n      addStyles,\n      enableNextBtn,\n      toggleTimerDispatch,\n    } = this.props;\n    // Desligar timer\n    toggleTimerDispatch();\n\n    // Disabilitar os botões de resposta\n    addStyles();\n\n    // Habilitar nova pergunta\n    enableNextBtn();\n  }\n\n  render() {\n    const { timeLeft } = this.state;\n    return (\n      <span>{ timeLeft }</span>\n    );\n  }\n}\n\nGameTimer.propTypes = {\n  timerOn: PropTypes.bool.isRequired,\n  addStyles: PropTypes.func.isRequired,\n  enableNextBtn: PropTypes.func.isRequired,\n  toggleTimerDispatch: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (store) => ({\n  timerOn: store.game.timerOn,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  toggleTimerDispatch: () => dispatch(toggleTimer()),\n  timerDispatch: (payload) => dispatch(setTimerGlobal(payload)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GameTimer);\n"]},"metadata":{},"sourceType":"module"}