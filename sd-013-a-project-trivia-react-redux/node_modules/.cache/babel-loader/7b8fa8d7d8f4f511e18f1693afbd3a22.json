{"ast":null,"code":"var _jsxFileName = \"/home/murilorsv21/Projects/sd-013-a-project-trivia-react-redux/src/components/NextBtn.jsx\";\n// React\nimport React from 'react'; // Router\n\nimport { withRouter } from 'react-router'; // PropTypes\n\nimport PropTypes from 'prop-types'; // Redux\n\nimport { connect } from 'react-redux';\nimport { pressNextBtn } from '../redux/actions/pressBtn';\nimport { toggleTimer } from '../redux/actions/game';\n\nclass NextBtn extends React.Component {\n  constructor() {\n    super();\n    this.triggerNextQuestion = this.triggerNextQuestion.bind(this);\n  }\n\n  clearStyles() {\n    // Remove estilo da alternativa correta\n    const correta = document.querySelector('#correct-answer');\n    correta.classList.remove('correct-highlight');\n    correta.disabled = false; // Remove estilo das alternativas incorretas\n\n    const incorretas = document.querySelectorAll('.incorrect-highlight');\n    incorretas.forEach(el => {\n      el.classList.remove('incorrect-highlight');\n      el.disabled = false;\n    });\n  }\n\n  async triggerNextQuestion() {\n    const _this$props = this.props,\n          toggleTimerDispatch = _this$props.toggleTimerDispatch,\n          setAnswers = _this$props.setAnswers;\n    toggleTimerDispatch();\n    this.clearStyles();\n    const _this$props2 = this.props,\n          pushBtn = _this$props2.pushBtn,\n          game = _this$props2.game,\n          questionNumber = _this$props2.questionNumber;\n    const numeroDePerguntas = Object.keys(game).length;\n\n    if (questionNumber !== numeroDePerguntas - 1) {\n      await pushBtn();\n      setAnswers();\n    }\n\n    if (questionNumber === numeroDePerguntas - 1) {\n      this.redirectToFeedback();\n    }\n  }\n\n  redirectToFeedback() {\n    const history = this.props.history;\n    history.push('/feedback');\n  }\n\n  render() {\n    const disable = this.props.disable;\n    return React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.triggerNextQuestion(),\n      \"data-testid\": \"btn-next\",\n      style: disable ? {\n        display: 'none'\n      } : {\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Pr\\xF3ximo\");\n  }\n\n}\n\nNextBtn.propTypes = {\n  game: PropTypes.arrayOf(PropTypes.object).isRequired,\n  questionNumber: PropTypes.number.isRequired,\n  disable: PropTypes.bool.isRequired,\n  pushBtn: PropTypes.func.isRequired,\n  setAnswers: PropTypes.func.isRequired,\n  toggleTimerDispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\n\nconst mapStateToProps = state => ({\n  game: state.game.game,\n  questionNumber: state.game.questionNumber,\n  disable: state.game.disable\n});\n\nconst mapDispatchToProps = dispatch => ({\n  pushBtn: () => dispatch(pressNextBtn()),\n  toggleTimerDispatch: () => dispatch(toggleTimer())\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NextBtn));","map":{"version":3,"sources":["/home/murilorsv21/Projects/sd-013-a-project-trivia-react-redux/src/components/NextBtn.jsx"],"names":["React","withRouter","PropTypes","connect","pressNextBtn","toggleTimer","NextBtn","Component","constructor","triggerNextQuestion","bind","clearStyles","correta","document","querySelector","classList","remove","disabled","incorretas","querySelectorAll","forEach","el","props","toggleTimerDispatch","setAnswers","pushBtn","game","questionNumber","numeroDePerguntas","Object","keys","length","redirectToFeedback","history","push","render","disable","display","propTypes","arrayOf","object","isRequired","number","bool","func","shape","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["// React\nimport React from 'react';\n\n// Router\nimport { withRouter } from 'react-router';\n\n// PropTypes\nimport PropTypes from 'prop-types';\n\n// Redux\nimport { connect } from 'react-redux';\nimport { pressNextBtn } from '../redux/actions/pressBtn';\nimport { toggleTimer } from '../redux/actions/game';\n\nclass NextBtn extends React.Component {\n  constructor() {\n    super();\n    this.triggerNextQuestion = this.triggerNextQuestion.bind(this);\n  }\n\n  clearStyles() {\n    // Remove estilo da alternativa correta\n    const correta = document.querySelector('#correct-answer');\n    correta.classList.remove('correct-highlight');\n    correta.disabled = false;\n\n    // Remove estilo das alternativas incorretas\n    const incorretas = document.querySelectorAll('.incorrect-highlight');\n    incorretas.forEach((el) => {\n      el.classList.remove('incorrect-highlight');\n      el.disabled = false;\n    });\n  }\n\n  async triggerNextQuestion() {\n    const { toggleTimerDispatch, setAnswers } = this.props;\n    toggleTimerDispatch();\n    this.clearStyles();\n    const { pushBtn, game, questionNumber } = this.props;\n    const numeroDePerguntas = Object.keys(game).length;\n    if (questionNumber !== (numeroDePerguntas - 1)) {\n      await pushBtn();\n      setAnswers();\n    }\n    if (questionNumber === (numeroDePerguntas - 1)) {\n      this.redirectToFeedback();\n    }\n  }\n\n  redirectToFeedback() {\n    const { history } = this.props;\n    history.push('/feedback');\n  }\n\n  render() {\n    const { disable } = this.props;\n    return (\n      <button\n        type=\"button\"\n        onClick={ () => this.triggerNextQuestion() }\n        data-testid=\"btn-next\"\n        style={\n          disable ? { display: 'none' } : { display: 'flex' }\n        }\n      >\n        Pr√≥ximo\n      </button>\n    );\n  }\n}\n\nNextBtn.propTypes = {\n  game: PropTypes.arrayOf(PropTypes.object).isRequired,\n  questionNumber: PropTypes.number.isRequired,\n  disable: PropTypes.bool.isRequired,\n  pushBtn: PropTypes.func.isRequired,\n  setAnswers: PropTypes.func.isRequired,\n  toggleTimerDispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  game: state.game.game,\n  questionNumber: state.game.questionNumber,\n  disable: state.game.disable,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  pushBtn: () => (dispatch(pressNextBtn())),\n  toggleTimerDispatch: () => dispatch(toggleTimer()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NextBtn));\n"]},"metadata":{},"sourceType":"module"}